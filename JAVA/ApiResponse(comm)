## ApiResponse(ResponseEntity의 내용물 통일하는 공통단) 정리

## 1. ApiResponse가 뭐냐?

ApiResponse는  
**서버가 프론트에게 보내는 “내용물 포장 규칙”**이다.

ResponseEntity가  
“성공인지 실패인지 알려주는 봉투”라면,

ApiResponse는  
**봉투 안에 들어가는 내용물의 모양을 통일하는 역할**이다.

---

## 2. 왜 ApiResponse가 필요하냐?

ApiResponse가 없으면  
API마다 응답 모양이 전부 달라질 수 있다.

예를 들면,

- 어떤 API는 데이터만 주고
- 어떤 API는 메시지를 주고
- 어떤 API는 success가 있고
- 어떤 API는 없다

이러면 프론트는  
API마다 처리 방식을 다 만들어야 해서 매우 힘들어진다.

ApiResponse를 쓰면  
**모든 API 응답 모양이 항상 같다.**

---

## 3. ApiResponse의 기본 구조

ApiResponse는 보통  
아래 3가지를 항상 가진다.

- success  
  - 이 요청이 성공인지 실패인지

- message  
  - 성공 또는 실패에 대한 설명

- data  
  - 실제 데이터 (없을 수도 있음)

즉,  
“결과 + 설명 + 데이터”를 한 묶음으로 보낸다.

---

## 4. ApiResponse를 택배로 비유하면

- ResponseEntity = 택배 상자
- ApiResponse = 상자 안 포장 규격
- data = 실제 물건

항상 같은 규격의 박스에 포장해서 보내기 때문에  
받는 쪽(프론트)은  
열어보는 방법을 항상 알고 있다.

---

## 5. success는 왜 있냐?

success는  
**이 요청이 성공했는지 실패했는지 한 번 더 알려주는 표시**다.

- true  
  - 정상 처리됨

- false  
  - 실패함

프론트는 보통  
success 값을 보고  
화면 처리나 알림을 결정한다.

---

## 6. message는 왜 있냐?

message는  
**사람이 읽으라고 있는 설명 문구**다.

- “조회 성공”
- “권한이 없습니다”
- “잘못된 요청입니다”

프론트에서  
알림창이나 토스트 메시지로  
바로 쓰기 좋다.

---

## 7. data는 뭐냐?

data는  
**실제 결과 데이터**다.

예를 들면,

- 게시글 하나
- 게시글 목록
- 사용자 정보
- 또는 아무것도 없을 수도 있다

삭제, 수정 같은 경우에는  
data가 없는 경우도 많다.

---

## 8. data가 없을 때는 어떻게 하냐?

data가 없을 때는  
그냥 비워서 보낸다.

중요한 건  
**응답 모양은 항상 같다는 것**이다.

- success는 있음
- message는 있음
- data만 비어 있음

이게 ApiResponse의 핵심이다.

---

## 9. ApiResponse는 어디서 쓰냐?

ApiResponse는  
**Controller에서 응답을 만들 때 사용한다.**

Service나 Repository에서는  
ApiResponse를 만들지 않는다.

이유는 단순하다.

- Service는 비즈니스 로직 담당
- ApiResponse는 응답 포장 담당

---

## 10. ResponseEntity + ApiResponse 관계 정리

- ResponseEntity  
  - 성공 / 실패 상태 표시 담당

- ApiResponse  
  - 응답 내용물의 모양 통일 담당

둘을 같이 쓰면,

“이 요청은 성공인지 실패인지”와  
“응답 데이터의 구조”를  
모두 깔끔하게 통제할 수 있다.

---

## 11. 한 줄 요약

ApiResponse는  
**모든 API 응답의 모양을 똑같이 만들어서  
프론트가 편하게 처리하도록 도와주는  
공통 응답 포장 규칙이다.**
