# 🚀 Tomcat WAR 배포

## 📌 1. 환경 정보
- **WAS**: Apache Tomcat 8.5+ / 9.x
- **JDK**: 1.8 이상
- **OS**: Windows Server / Linux

---

## 📦 2. WAR 파일 준비 및 전송
1. 최신 `app.war` 준비
2. 서버로 WAR 파일 업로드  
   - Windows: 원격 복사 또는 공유폴더  
   - Linux: scp / sftp / WinSCP 사용

sh
scp app.war user@SERVER_IP:/opt/tomcat/webapps/

---
## 🗂 3. Tomcat 기본 경로 구조
bash
코드 복사
/opt/tomcat
 ├─ bin/
 ├─ conf/
 ├─ logs/
 └─ webapps/  ← WAR 배포 위치

---
## 🛑 4. 서비스 중지
Tomcat 종료
Linux

sh
코드 복사
cd /opt/tomcat/bin
./shutdown.sh
Windows

bat
코드 복사
cd C:\tomcat\bin
shutdown.bat
프로세스 종료 확인
Linux: ps -ef | grep tomcat

Windows: 작업 관리자(java) 종료확인

---
## 🧾 5. 기존 버전 백업
sh
코드 복사
cp webapps/app.war backup/app_YYYYMMDD.war
cp -r webapps/app backup/app_YYYYMMDD/

---
## 🔄 6. 신규 WAR 배포
최신 app.war → webapps/ 복사

Tomcat 시작 시 자동 배포

---
## ⚙ 7. 설정 확인
✔ 포트 설정 (conf/server.xml)
xml
코드 복사
<Connector port="8081" protocol="HTTP/1.1"
           connectionTimeout="20000"
           redirectPort="8443" />
✔ UTF-8 인코딩 적용 (setenv.sh / setenv.bat)
sh
코드 복사
-Dfile.encoding=UTF-8

---
##▶ 8. 서비스 기동
Linux

sh
코드 복사
./startup.sh
Windows

bat
코드 복사
startup.bat
📍 접속 URL
http://<SERVER_IP>:8081/app

---
## 🔍 9. 배포 검증 체크리스트
 WAS 정상 기동

 로그(logs/) 오류 없음

 주요 화면 정상 출력

 한글 인코딩 문제 없음

 연동 서비스(GIS 등) 정상 작동

---
## 🆘 10. 롤백 절차
Tomcat 중지

새 WAR 제거

백업본 복원(WAR + exploded 디렉토리)

서비스 재기동 및 로그 확인

---
## 🌐 GeoServer 배포 예시
항목	내용
파일명	geoserver.war
경로	webapps
URL	http://<SERVER_IP>:8081/geoserver

📌 핵심 요약
중지 → 백업 → 교체 → 설정확인 → 기동 → 로그확인

markdown
코드 복사

-----------------------------------
